#include "GAL_E5.h"

constexpr int GALILEO_E5a_PRIMARY_TAPS_G1 = 040503 >> 1;
constexpr int GALILEO_E5a_PRIMARY_TAPS_G2 = 050661 >> 1;

class GAL_E5a : public GAL_E5{
public:
    GAL_E5a() {}

    void generatePrimaryE5aI(int prn) {
        if (!checkValidPRN(prn))
            return; //BAD PRN so we don't create it
        generatePrimary(prn, E5AI_g2_init[prn - 1] >> 1, GALILEO_E5a_PRIMARY_TAPS_G1, GALILEO_E5a_PRIMARY_TAPS_G2);
        return;
    }
    
    void generatePrimaryE5aQ(int prn) {
        if (!checkValidPRN(prn))
            return; //BAD PRN so we don't create it
        generatePrimary(prn, E5AQ_g2_init[prn - 1], GALILEO_E5a_PRIMARY_TAPS_G1, GALILEO_E5a_PRIMARY_TAPS_G2);
        return;
    }

    void generateSecondaryE5aQ(int prn) {
        if (!checkValidPRN(prn))
            return; //BAD PRN so we don't create it
        generateSecondaryQ(secondaryE5aQ[prn - 1]);
        return;
    }
    

private:

    std::string getConstellationName() override { return "Galileo E5a"; }

    const int E5AI_g2_init[GALILEO_E5_NUMBER_OF_CODES] = {
        030305, 014234, 027213, 020577, 023312, 033463, 015614, 012537,
        001527, 030236, 027344, 007272, 036377, 017046, 006434, 015405,
        024252, 011631, 024776, 000630, 011560, 017272, 027445, 031702,
        013012, 014401, 034727, 022627, 030623, 027256, 001520, 014211,
        031465, 022164, 033516, 002737, 021316, 035425, 035633, 024655,
        014054, 027027, 006604, 031455, 034465, 025273, 020763, 031721,
        017312, 013277
    };
    
    const int E5AQ_g2_init[GALILEO_E5_NUMBER_OF_CODES] = {
        025652, 005142, 024723, 031751, 027366, 024660, 033655, 027450,
        007626, 001705, 012717, 032122, 016075, 016644, 037556, 002477,
        002265, 006430, 025046, 012735, 004262, 011230, 000037, 006137,
        004312, 020606, 011162, 022252, 030533, 024614, 007767, 032705,
        005052, 027553, 003711, 002041, 034775, 005274, 037356, 016205,
        036270, 006600, 026773, 017375, 035267, 036255, 012044, 026442,
        021621, 025411
    };

    const std::string secondaryE5aQ[GALILEO_E5_NUMBER_OF_CODES] = { // CS100_1 - CS100_51
        "83F6F69D8F6E15411FB8C9B1C", "66558BD3CE0C7792E83350525",
        "59A025A9C1AF0651B779A8381", "D3A32640782F7B18E4DF754B7",
        "B91FCAD7760C218FA59348A93", "BAC77E933A779140F094FBF98",
        "537785DE280927C6B58BA6776", "EFCAB4B65F38531ECA22257E2",
        "79F8CAE838475EA5584BEFC9B", "CA5170FEA3A810EC606B66494",
        "1FC32410652A2C49BD845E567", "FE0A9A7AFDAC44E42CB95D261",
        "B03062DC2B71995D5AD8B7DBE", "F6C398993F598E2DF4235D3D5",
        "1BB2FB8B5BF24395C2EF3C5A1", "2F920687D238CC7046EF6AFC9",
        "34163886FC4ED7F2A92EFDBB8", "66A872CE47833FB2DFD5625AD",
        "99D5A70162C920A4BB9DE1CA8", "81D71BD6E069A7ACCBEDC66CA",
        "A654524074A9E6780DB9D3EC6", "C3396A101BEDAF623CFC5BB37",
        "C3D4AB211DF36F2111F2141CD", "3DFF25EAE761739265AF145C1",
        "994909E0757D70CDE389102B5", "B938535522D119F40C25FDAEC",
        "C71AB549C0491537026B390B7", "0CDB8C9E7B53F55F5B0A0597B",
        "61C5FA252F1AF81144766494F", "626027778FD3C6BB4BAA7A59D",
        "E745412FF53DEBD03F1C9A633", "3592AC083F3175FA724639098",
        "52284D941C3DCAF2721DDB1FD", "73B3D8F0AD55DF4FE814ED890",
        "94BF16C83BD7462F6498E0282", "A8C3DE1AC668089B0B45B3579",
        "E23FFC2DD2C14388AD8D6BEC8", "F2AC871CDF89DDC06B5960D2B",
        "06191EC1F622A77A526868BA1", "22D6E2A768E5F35FFC8E01796",
        "25310A06675EB271F2A09EA1D", "9F7993C621D4BEC81A0535703",
        "D62999EACF1C99083C0B4A417", "F665A7EA441BAA4EA0D01078C",
        "46F3D3043F24CDEABD6F79543", "E2E3E8254616BD96CEFCA651A",
        "E548231A82F9A01A19DB5E1B2", "265C7F90A16F49EDE2AA706C8",
        "364A3A9EB0F0481DA0199D7EA", "9810A7A898961263A0F749F56"
    };

};