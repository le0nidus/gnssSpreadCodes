#include <unordered_map>

#define GPS_L5_CODE_LENGTH 10230
#define GPS_L5_REGISTER_SIZE 13
#define GPS_L5_XB_SIZE 8191


class GPS_L5 {
public:
    GPS_L5() {     // Constructor
		xa = make_xa();
		xb = make_xb();
    }
	std::vector<int> generateL5I(int prn);
	std::vector<int> generateL5Q(int prn);

private:
	std::vector<int> xa_shift(std::vector<int>& xa);
	std::vector<int> xb_shift(std::vector<int>& xb);
	std::vector<int> make_xa();
	std::vector<int> make_xb();

	std::vector<int> xa;
	std::vector<int> xb;

	std::unordered_map <int, int> l5q_init = {
	{1,   1701}, {2,    323}, {3,   5292}, {4,   2020},
	{5,   5429}, {6,   7136}, {7,   1041}, {8,   5947},
	{9,   4315}, {10,   148}, {11,   535}, {12,  1939},
	{13,  5206}, {14,  5910}, {15,  3595}, {16,  5135},
	{17,  6082}, {18,  6990}, {19,  3546}, {20,  1523},
	{21,  4548}, {22,  4484}, {23,  1893}, {24,  3961},
	{25,  7106}, {26,  5299}, {27,  4660}, {28,   276},
	{29,  4389}, {30,  3783}, {31,  1591}, {32,  1601},
	{33,   749}, {34,  1387}, {35,  1661}, {36,  3210},
	{37,   708}, {38,  4226}, {39,  5604}, {40,  6375},
	{41,  3056}, {42,  1772}, {43,  3662}, {44,  4401},
	{45,  5218}, {46,  2838}, {47,  6913}, {48,  1685},
	{49,  1194}, {50,  6963}, {51,  5001}, {52,  6694},
	{53,   991}, {54,  7489}, {55,  2441}, {56,   639},
	{57,  2097}, {58,  2498}, {59,  6470}, {60,  2399},
	{61,   242}, {62,  3768}, {63,  1186}, {64,  5246},
	{65,  4259}, {66,  5907}, {67,  3870}, {68,  3262},
	{69,  7387}, {70,  3069}, {71,  2999}, {72,  7993},
	{73,  7849}, {74,  4157}, {75,  5031}, {76,  5986},
	{77,  4833}, {78,  5739}, {79,  7846}, {80,   898},
	{81,  2022}, {82,  7446}, {83,  6404}, {84,   155},
	{85,  7862}, {86,  7795}, {87,  6121}, {88,  4840},
	{89,  6585}, {90,   429}, {91,  6020}, {92,   200},
	{93,  1664}, {94,  1499}, {95,  7298}, {96,  1305},
	{97,  7323}, {98,  7544}, {99,  4438}, {100, 2485},
	{101, 3387}, {102, 7319}, {103, 1853}, {104, 5781},
	{105, 1874}, {106, 7555}, {107, 2132}, {108, 6441},
	{109, 6722}, {110, 1192}, {111, 2588}, {112, 2188},
	{113,  297}, {114, 1540}, {115, 4138}, {116, 5231},
	{117, 4789}, {118,  659}, {119,  871}, {120, 6837},
	{121, 1393}, {122, 7383}, {123,  611}, {124, 4920},
	{125, 5416}, {126, 1611}, {127, 2474}, {128,  118},
	{129, 1382}, {130, 1092}, {131, 7950}, {132, 7223},
	{133, 1769}, {134, 4721}, {135, 1252}, {136, 5147},
	{137, 2165}, {138, 7897}, {139, 4054}, {140, 3498},
	{141, 6571}, {142, 2858}, {143, 8126}, {144, 7017},
	{145, 1901}, {146,  181}, {147, 1114}, {148, 5195},
	{149, 7479}, {150, 4186}, {151, 3904}, {152, 7128},
	{153, 1396}, {154, 4513}, {155, 5967}, {156, 2580},
	{157, 2575}, {158, 7961}, {159, 2598}, {160, 4508},
	{161, 2090}, {162, 3685}, {163, 7748}, {164,  684},
	{165,  913}, {166, 5558}, {167, 2894}, {168, 5858},
	{169, 6432}, {170, 3813}, {171, 3573}, {172, 7523},
	{173, 5280}, {174, 3376}, {175, 7424}, {176, 2918},
	{177, 5793}, {178, 1747}, {179, 7079}, {180, 2921},
	{181, 2490}, {182, 4119}, {183, 3373}, {184,  977},
	{185,  681}, {186, 4273}, {187, 5419}, {188, 5626},
	{189, 1266}, {190, 5804}, {191, 2414}, {192, 6444},
	{193, 4757}, {194,  427}, {195, 5452}, {196, 5182},
	{197, 6606}, {198, 6531}, {199, 4268}, {200, 3115},
	{201, 6835}, {202,  862}, {203, 4856}, {204, 2765},
	{205,   37}, {206, 1943}, {207, 7977}, {208, 2512},
	{209, 4451}, {210, 4071}
	};

	std::unordered_map <int, int> l5i_init = {
		{1,    266}, {2,    365}, {3,    804}, {4,   1138},
		{5,   1509}, {6,   1559}, {7,   1756}, {8,   2084},
		{9,   2170}, {10,  2303}, {11,  2527}, {12,  2687},
		{13,  2930}, {14,  3471}, {15,  3940}, {16,  4132},
		{17,  4332}, {18,  4924}, {19,  5343}, {20,  5443},
		{21,  5641}, {22,  5816}, {23,  5898}, {24,  5918},
		{25,  5955}, {26,  6243}, {27,  6345}, {28,  6477},
		{29,  6518}, {30,  6875}, {31,  7168}, {32,  7187},
		{33,  7329}, {34,  7577}, {35,  7720}, {36,  7777},
		{37,  8057}, {38,  5358}, {39,  3550}, {40,  3412},
		{41,   819}, {42,  4608}, {43,  3698}, {44,   962},
		{45,  3001}, {46,  4441}, {47,  4937}, {48,  3717},
		{49,  4730}, {50,  7291}, {51,  2279}, {52,  7613},
		{53,  5723}, {54,  7030}, {55,  1475}, {56,  2593},
		{57,  2904}, {58,  2056}, {59,  2757}, {60,  3756},
		{61,  6205}, {62,  5053}, {63,  6437}, {64,  7789},
		{65,  2311}, {66,  7432}, {67,  5155}, {68,  1593},
		{69,  5841}, {70,  5014}, {71,  1545}, {72,  3016},
		{73,  4875}, {74,  2119}, {75,   229}, {76,  7634},
		{77,  1406}, {78,  4506}, {79,  1819}, {80,  7580},
		{81,  5446}, {82,  6053}, {83,  7958}, {84,  5267},
		{85,  2956}, {86,  3544}, {87,  1277}, {88,  2996},
		{89,  1758}, {90,  3360}, {91,  2718}, {92,  3754},
		{93,  7440}, {94,  2781}, {95,  6756}, {96,  7314},
		{97,   208}, {98,  5252}, {99,   696}, {100,  527},
		{101, 1399}, {102, 5879}, {103, 6868}, {104,  217},
		{105, 7681}, {106, 3788}, {107, 1337}, {108, 2424},
		{109, 4243}, {110, 5686}, {111, 1955}, {112, 4791},
		{113,  492}, {114, 1518}, {115, 6566}, {116, 5349},
		{117,  506}, {118,  113}, {119, 1953}, {120, 2797},
		{121,  934}, {122, 3023}, {123, 3632}, {124, 1330},
		{125, 4909}, {126, 4867}, {127, 1183}, {128, 3990},
		{129, 6217}, {130, 1224}, {131, 1733}, {132, 2319},
		{133, 3928}, {134, 2380}, {135,  841}, {136, 5049},
		{137, 7027}, {138, 1197}, {139, 7208}, {140, 8000},
		{141,  152}, {142, 6762}, {143, 3745}, {144, 4723},
		{145, 5502}, {146, 4796}, {147,  123}, {148, 8142},
		{149, 5091}, {150, 7875}, {151,  330}, {152, 5272},
		{153, 4912}, {154,  374}, {155, 2045}, {156, 6616},
		{157, 6321}, {158, 7605}, {159, 2570}, {160, 2419},
		{161, 1234}, {162, 1922}, {163, 4317}, {164, 5110},
		{165,  825}, {166,  958}, {167, 1089}, {168, 7813},
		{169, 6058}, {170, 7703}, {171, 6702}, {172, 1714},
		{173, 6371}, {174, 2281}, {175, 1986}, {176, 6282},
		{177, 3201}, {178, 3760}, {179, 1056}, {180, 6233},
		{181, 1150}, {182, 2823}, {183, 6250}, {184,  645},
		{185, 2401}, {186, 1639}, {187, 2946}, {188, 7091},
		{189,  923}, {190, 7045}, {191, 6493}, {192, 1706},
		{193, 5836}, {194,  926}, {195, 6086}, {196,  950},
		{197, 5905}, {198, 3240}, {199, 6675}, {200, 3197},
		{201, 1555}, {202, 3589}, {203, 4555}, {204, 5671},
		{205, 6948}, {206, 4664}, {207, 2086}, {208, 5950},
		{209, 5521}, {210, 1515}
	};

    

};




